<%# variables: %>

<%# text (for title above arrows)%>
<%# description (a description of the amenity category) %>
<%# hotel_amenities (The array(?) of hotel_amenity instances.) %>

<div class="swiper-slide" style="overflow: scroll;">
  <%= render 'reservations/title_down_arrows', text: text %>
  <div class="amenity-category-description">
    <p><%= description %></p>
  </div>

  <div class="swiper-content h-100" id="myGroup">
    <% hotel_amenities.each do |hotel_amenity| %>

        <% if hotel_amenity.requestable == false %>
          <div class="amenity-list-item mb-1 py-1 w-75">
            <%= image_tag("icons/#{hotel_amenity.amenity.name.gsub(' ', '_').gsub('/', ':').downcase}.svg") %>
            <p class="mb-0"><%= hotel_amenity.amenity.name %></p>
          </div>
        <% end %>

        <% if hotel_amenity.requestable == true %>
          <a data-toggle="collapse" aria-controls="amenity-<%= hotel_amenity.id %>" data-target="#amenity-<%= hotel_amenity.id %>" href="#amenity-<%= hotel_amenity.id %>"  class="amenity-list-item py-1 w-75">
            <%= image_tag("icons/#{hotel_amenity.amenity.name.gsub(' ', '_').gsub('/', ':').downcase}.svg") %>
            <p class="mb-0"><%= hotel_amenity.amenity.name %></p>

            <i class="fa mr-1" style="margin-left: auto;"></i>

          </a> 

          <%# -- Collapsable Request Button -- %>
          <div class="collapse w-75" data-parent="#myGroup" id='amenity-<%= hotel_amenity.id %>'>
            <%= form_tag reservation_requests_path, method: :post do %>
              <%= hidden_field_tag :hotel_amenity_id, hotel_amenity.id %>
              <%= submit_tag "Request #{hotel_amenity.amenity.name}", data: { confirm: "Are you sure you wish to request #{hotel_amenity.amenity.name}?" }, class: "btn amenity-list-item-button" %>
            <% end %>
          </div>

        <% end %>

    <% end %>
  </div>
</div>